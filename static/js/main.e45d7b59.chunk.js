(this["webpackJsonpstock-manager"]=this["webpackJsonpstock-manager"]||[]).push([[0],{110:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(14),r=a.n(c),s=(a(110),a(73)),o=a(16),l=a(6);var d=function(){var e=Object(o.g)();return Object(l.jsx)("div",{style:{textAlign:"center"},children:Object(l.jsx)("button",{onClick:function(){e.push("/main")},children:"Login"})})},j=a(30),b=a(152),u=a(162),p=a(165),m=a(84),h=a.n(m);a(116);function O(e){var t=e.dbRef,a=e.tradingKey,i=e.display,c=Object(n.useState)([]),r=Object(j.a)(c,2),s=r[0],o=r[1];return Object(n.useEffect)((function(){t.doc(a).collection("items").onSnapshot((function(e){o(e.docs.map((function(e){return e.data()})))}))}),[]),Object(l.jsxs)("div",{className:"stocktable",children:[Object(l.jsx)("div",{className:"table_title",children:Object(l.jsx)("strong",{children:i})}),Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:"\uc885\ubaa9\uba85"}),Object(l.jsx)("th",{children:"\ub2e8\uac00"}),Object(l.jsx)("th",{children:"\uc218\ub7c9"}),Object(l.jsx)("th",{children:"\uc785\uace0\uc77c"})]})}),Object(l.jsx)("tbody",{children:s.map((function(e){var t=new Date(e.indate);return Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{className:"item_name",children:e.name}),Object(l.jsx)("td",{className:"item_price",children:String(e.price).replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Object(l.jsx)("td",{className:"item_quantity",children:e.quantity}),Object(l.jsx)("td",{className:"item_date",children:t.getMonth()+1+"/"+t.getDate()})]},e.name)}))})]})]})}a(117);var x=a(85),y=a(155),f=a(166),g=a(164),v=a(169),k=a(168),N=a(160),S=a(161),C=a(22),I=a(163),w=a(54);a(126),a(119);w.a.initializeApp({apiKey:"AIzaSyDrC-Fz80eWezeDNlscZ_gB9QooILNuJ6k",authDomain:"kistone-stock.firebaseapp.com",projectId:"kistone-stock",storageBucket:"kistone-stock.appspot.com",messagingSenderId:"602515706055",appId:"1:602515706055:web:271be76a0fdc249f6eeee2",measurementId:"G-1CFXPBLJZE"});w.a.auth.Auth.Persistence.LOCAL,new w.a.auth.GoogleAuthProvider,w.a.auth();var B=w.a.firestore(),D=[{key:"namu",display:"\ub098\ubb34(NAMU)",priority:0},{key:"hankook",display:"\ud55c\uad6d\ud22c\uc790",priority:1},{key:"mirae",display:"\ubbf8\ub798\uc5d0\uc14b",priority:2},{key:"kb",display:"KB\uc99d\uad8c",priority:3},{key:"shinhan",display:"\uc2e0\ud55c\uc54c\ud30c",priority:4},{key:"samsung",display:"\uc0bc\uc131\uc99d\uad8c",priority:5}],q=Object(b.a)((function(e){return{paper:{boxSizing:"border-box",position:"absolute",width:"80%",maxWidth:"600px",backgroundColor:e.palette.background.paper,borderRadius:"10px",boxShadow:e.shadows[5],padding:e.spacing(2,2,1),top:"50%",left:"50%",transform:"translate(-50%, -50%)"},selectEmpty:{marginTop:e.spacing(1),marginBottom:e.spacing(3)},formTrading:{minWidth:120},formInput:{width:"100%",marginBottom:"10px"}}}));var z=function(e){var t=e.setOpen,a=q(),i=Object(n.useState)(0),c=Object(j.a)(i,2),r=c[0],s=c[1],o=Object(n.useState)(""),d=Object(j.a)(o,2),b=d[0],u=d[1],p=Object(n.useState)(""),m=Object(j.a)(p,2),h=m[0],O=m[1],w=Object(n.useState)(""),z=Object(j.a)(w,2),A=z[0],F=z[1],P=Object(n.useState)(new Date),E=Object(j.a)(P,2),M=E[0],_=E[1];return Object(l.jsx)("div",{className:a.paper,children:Object(l.jsxs)("form",{children:[Object(l.jsxs)(y.a,{className:a.formTrading,children:[Object(l.jsx)(f.a,{id:"trading-select-label",children:"\uc99d\uad8c\uacc4\uc88c"}),Object(l.jsx)(g.a,{labelId:"trading-select-label",id:"trading-select",value:r,onChange:function(e){s(e.target.value)},className:a.selectEmpty,required:!0,children:D.map((function(e,t){return Object(l.jsx)(v.a,{value:t,children:e.display},e.key)}))})]}),Object(l.jsxs)(y.a,{variant:"outlined",className:a.formInput,children:[Object(l.jsx)(f.a,{htmlFor:"name-input",children:"\uc885\ubaa9\uba85"}),Object(l.jsx)(k.a,{id:"name-input",value:b,onChange:function(e){u(e.target.value)},label:"Name",required:!0})]}),Object(l.jsxs)(y.a,{variant:"outlined",className:a.formInput,children:[Object(l.jsx)(f.a,{htmlFor:"price-input",children:"\ub2e8\uac00"}),Object(l.jsx)(k.a,{id:"price-input",value:h,onChange:function(e){O(e.target.value)},label:"Price",type:"number",required:!0})]}),Object(l.jsxs)(y.a,{variant:"outlined",className:a.formInput,children:[Object(l.jsx)(f.a,{htmlFor:"quantity-input",children:"\uc218\ub7c9"}),Object(l.jsx)(k.a,{id:"quantity-input",value:A,onChange:function(e){F(e.target.value)},label:"Quantity",type:"number"})]}),Object(l.jsx)(C.a,{utils:x.a,children:Object(l.jsx)(I.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"Month/Day/Year",value:M,onChange:function(e){_(e)},KeyboardButtonProps:{"aria-label":"change date"},PopoverProps:{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"right"}},className:a.formInput})}),Object(l.jsxs)(N.a,{children:[Object(l.jsx)(S.a,{color:"primary",onClick:function(){return t(!1)},children:"\ucde8\uc18c"}),Object(l.jsx)(S.a,{color:"primary",onClick:function(e){e.preventDefault();var a=D[r],n=B.collection("user").doc("kisskwon87").collection("trading");n.doc(a.key).set({display:a.display,priority:a.priority}),n.doc(a.key).collection("items").doc(b).set({name:b,price:h,quantity:A,indate:M.toDateString()}),t(!1)},type:"submit",autoFocus:!0,children:"\ucd94\uac00"})]})]})})},A=Object(b.a)((function(){return{fav:{position:"fixed",bottom:0,left:"50%",transform:"translateX(-50%)",marginBottom:"30px"}}}));var F=function(){var e=A(),t=Object(n.useState)(!1),a=Object(j.a)(t,2),i=a[0],c=a[1],r=Object(n.useState)([]),s=Object(j.a)(r,2),o=s[0],d=s[1],b=B.collection("user").doc("kisskwon87").collection("trading");return Object(n.useEffect)((function(){return b.orderBy("priority","asc").onSnapshot((function(e){d(e.docs.map((function(e){return{key:e.id,display:e.data().display}})))}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"main",children:o.map((function(e){var t=e.key,a=e.display;return Object(l.jsx)(O,{dbRef:b,tradingKey:t,display:a})}))}),Object(l.jsx)(u.a,{className:e.fav,color:"primary","aria-label":"add",onClick:function(){c(!0)},children:Object(l.jsx)(h.a,{})}),Object(l.jsx)(p.a,{open:i,onClose:function(){c(!1)},"aria-labelledby":"add-stock","aria-describedby":"add-stock",children:Object(l.jsx)("div",{children:Object(l.jsx)(z,{setOpen:c})})})]})};var P=function(){return Object(l.jsx)(s.a,{children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:"/",render:function(){return Object(l.jsx)(o.a,{to:"/login"})}}),Object(l.jsx)(o.b,{exact:!0,path:"/login",component:d}),Object(l.jsx)(o.b,{exact:!0,path:"/main",component:F})]})})};r.a.render(Object(l.jsx)(i.a.StrictMode,{children:Object(l.jsx)(P,{})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.e45d7b59.chunk.js.map