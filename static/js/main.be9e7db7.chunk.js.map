{"version":3,"sources":["utils/firebase.js","components/SigninButton.js","pages/Login.js","store/Store.js","components/TableItem.js","components/StockTable.js","constants/Trading.js","components/AddStock.js","components/DeleteStock.js","pages/Main.js","components/LoadingTool.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","Auth","Persistence","LOCAL","AuthProvider","google","get","GoogleAuthProvider","id","db","firestore","SigninButton","type","meta","background","color","title","titleShort","icon","github","facebook","providerMeta","className","style","backgroundColor","onClick","signInWithRedirect","then","result","catch","error","alert","alt","src","connect","state","store","history","setLoading","console","log","useEffect","authenticate","isAuth","push","signInWithEmailAndPassword","Store","createSlice","name","initialState","user","undefined","reducers","login","action","payload","logout","configureStore","reducer","actions","TableItem","tradingKey","item","handleItemSelect","useState","key","startX","dx","swipeItem","setSwipeItem","date","Date","indate","setHours","diff","getTime","changeStyle","ddayState","displayDate","getMonth","getDate","getDateState","getX","e","x","clientX","touches","screenX","toFixed","handleItemClick","useCallback","Math","abs","target","currentTarget","stopPropagation","handleSwipeStart","firstChild","innerText","handleSwipeMove","handleSwipeEnd","setAttribute","left","handleSwipeCancel","onTouchStart","onTouchMove","onTouchEnd","onMouseDown","onMouseMove","onMouseUpCapture","onMouseLeave","String","price","replace","quantity","originaldate","React","memo","trading","items","setItems","data","display","collection","doc","orderBy","onSnapshot","snapshot","size","docs","map","delete","Tradings","priority","useStyles","makeStyles","theme","paper","boxSizing","position","width","maxWidth","palette","borderRadius","boxShadow","shadows","padding","spacing","top","transform","selectEmpty","marginTop","marginBottom","formTrading","minWidth","formInput","setOpen","selectedItem","sIndex","sName","sPrice","sQuantity","sDate","forEach","ind","children","textContent","getAttribute","classes","tradingIndex","setTradingIndex","setName","setPrice","setQuantity","setDate","isModified","FormControl","InputLabel","Select","labelId","value","onChange","event","required","disabled","index","MenuItem","variant","htmlFor","OutlinedInput","label","utils","DateFnsUtils","disableToolbar","format","margin","KeyboardButtonProps","PopoverProps","anchorOrigin","vertical","horizontal","transformOrigin","DialogActions","Button","preventDefault","dbRef","set","valueOf","autoFocus","fab","fabEdit","common","white","green","dispatch","doLogout","open","openDel","setOpenDel","tradings","setTradings","setSelectedItem","setTimeout","handleOpen","to","rel","split","signOut","Fab","Modal","onClose","LoadingTool","height","doLogin","loading","onAuthStateChanged","email","exact","path","render","props","component","window","location","href","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.be9e7db7.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/firestore\";\r\nimport \"firebase/auth\";\r\n\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyDrC-Fz80eWezeDNlscZ_gB9QooILNuJ6k\",\r\n  authDomain: \"kistone-stock.firebaseapp.com\",\r\n  projectId: \"kistone-stock\",\r\n  storageBucket: \"kistone-stock.appspot.com\",\r\n  messagingSenderId: \"602515706055\",\r\n  appId: \"1:602515706055:web:271be76a0fdc249f6eeee2\",\r\n  measurementId: \"G-1CFXPBLJZE\",\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst Persistence = {\r\n  LOCAL: firebase.auth.Auth.Persistence.LOCAL,\r\n};\r\n\r\nconst AuthProvider = {\r\n  google: {\r\n    get: new firebase.auth.GoogleAuthProvider(),\r\n    id: \"google.com\",\r\n  },\r\n};\r\n\r\nconst auth = firebase.auth();\r\nconst db = firebase.firestore();\r\n\r\nexport { auth, Persistence, AuthProvider, db };\r\n","import React from \"react\";\r\nimport { auth, AuthProvider } from \"../utils/firebase\";\r\nimport \"./SigninButton.css\";\r\n\r\nfunction SigninButton({ type }) {\r\n  const typeMeta = {\r\n    google: {\r\n      background: \"#ffffff\",\r\n      color: \"#757575\",\r\n      title: \"Sign in with Google\",\r\n      titleShort: \"Google\",\r\n      icon: \"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg\",\r\n    },\r\n    github: {\r\n      background: \"#333333\",\r\n      title: \"Sign in with GitHub\",\r\n      titleShort: \"GitHub\",\r\n      icon: \"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/github.svg\",\r\n    },\r\n    facebook: {\r\n      background: \"#3b5998\",\r\n      title: \"Sign in with Facebook\",\r\n      titleShort: \"Facebook\",\r\n      icon: \"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/facebook.svg\",\r\n    },\r\n  };\r\n  const meta = typeMeta[type];\r\n  const providerMeta = AuthProvider[type];\r\n\r\n  const signInWithAnother = () => {\r\n    auth\r\n      .signInWithRedirect(providerMeta.get)\r\n      .then((result) => {})\r\n      .catch((error) => {\r\n        alert(error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"signinButton\">\r\n      <button\r\n        className=\"firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-id-idp-button\"\r\n        data-provider-id={providerMeta.id}\r\n        style={{ backgroundColor: meta.background }}\r\n        data-upgraded=\",MaterialButton\"\r\n        onClick={signInWithAnother}\r\n      >\r\n        <span className=\"firebaseui-idp-icon-wrapper\">\r\n          <img className=\"firebaseui-idp-icon\" alt=\"\" src={meta.icon} />\r\n        </span>\r\n        <span\r\n          className=\"firebaseui-idp-text firebaseui-idp-text-long\"\r\n          style={{ color: meta.color }}\r\n        >\r\n          {meta.title}\r\n        </span>\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SigninButton;\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport SigninButton from \"../components/SigninButton\";\r\nimport { auth } from \"../utils/firebase\";\r\nimport \"./Login.css\";\r\n\r\nfunction Login({ history, store, setLoading }) {\r\n  console.log(\"Login START\");\r\n  useEffect(() => {\r\n    if (store.authenticate.isAuth) {\r\n      history.push(\"/main\");\r\n    }\r\n  }, [history, store.authenticate.isAuth]);\r\n\r\n  return (\r\n    <div className=\"login_main\">\r\n      <div className=\"title\">Stock Manager</div>\r\n      <div className=\"button\">\r\n        <SigninButton type=\"google\" />\r\n      </div>\r\n\r\n      <div\r\n        className=\"guest_button\"\r\n        onClick={() => {\r\n          setLoading(true);\r\n          auth.signInWithEmailAndPassword(\"guest@guest.com\", \"password\");\r\n        }}\r\n      >\r\n        Guest Login\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { store: state };\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(Login);\r\n","import { configureStore, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nexport const Store = createSlice({\r\n  name: \"ReduxStore\",\r\n  initialState: {\r\n    authenticate: { user: undefined, isAuth: false },\r\n  },\r\n  reducers: {\r\n    login: (state, action) => {\r\n      return { ...state, authenticate: action.payload };\r\n    },\r\n    logout: (state, action) => {\r\n      return { ...state, authenticate: { user: undefined, isAuth: false } };\r\n    },\r\n  },\r\n});\r\n\r\nconst store = configureStore({ reducer: Store.reducer });\r\n\r\nexport const { login, logout } = Store.actions;\r\n\r\nexport default store;\r\n","import React, { useCallback, useState } from \"react\";\r\nimport \"./TableItem.css\";\r\n\r\nfunction TableItem({ tradingKey, item, handleItemSelect }) {\r\n  const [swipeItem, setSwipeItem] = useState({\r\n    key: undefined,\r\n    startX: 0,\r\n    dx: 0,\r\n  });\r\n\r\n  const getDateState = (item) => {\r\n    const date = new Date(item.indate);\r\n    date.setHours(9, 0, 0, 0);\r\n    const now = new Date();\r\n    const diff = (now.getTime() - date.getTime()) / (1000 * 3600 * 24);\r\n    let changeStyle = { color: \"gray\" };\r\n    let ddayState = 0;\r\n    if (diff >= 0 && diff < 1) {\r\n      changeStyle = { color: \"chartreuse\" };\r\n      ddayState = 1;\r\n    } else if (diff >= -2 && diff < 0) {\r\n      changeStyle = { color: \"red\" };\r\n      ddayState = 2;\r\n    } else if (diff < -2) {\r\n      changeStyle = { color: \"darkgreen\" };\r\n    }\r\n    const displayDate = date.getMonth() + 1 + \"/\" + date.getDate();\r\n\r\n    return { ddayState, changeStyle, displayDate };\r\n  };\r\n\r\n  const { ddayState, changeStyle, displayDate } = getDateState(item);\r\n\r\n  const getX = (e) => {\r\n    var x = e.clientX;\r\n    if (!x) {\r\n      x = e.touches[0].screenX.toFixed(0);\r\n    }\r\n    return x;\r\n  };\r\n  const handleItemClick = useCallback(\r\n    (e) => {\r\n      if (Math.abs(getX(e) - swipeItem.startX) > 10) {\r\n        return;\r\n      }\r\n      handleItemSelect({\r\n        target: e.currentTarget,\r\n        tradingKey,\r\n      });\r\n      e.stopPropagation();\r\n    },\r\n    [tradingKey, handleItemSelect, swipeItem]\r\n  );\r\n  const handleSwipeStart = useCallback((e) => {\r\n    console.log([e.currentTarget]);\r\n\r\n    setSwipeItem({\r\n      key: e.currentTarget.firstChild.innerText,\r\n      startX: getX(e),\r\n      dx: getX(e),\r\n    });\r\n  }, []);\r\n  const handleSwipeMove = useCallback(\r\n    (e) => {\r\n      if (!swipeItem.key) {\r\n        return;\r\n      }\r\n      setSwipeItem({ ...swipeItem, dx: getX(e) });\r\n    },\r\n    [swipeItem]\r\n  );\r\n  const handleSwipeEnd = useCallback(\r\n    (e) => {\r\n      e.currentTarget.setAttribute(\"style\", { left: 0 });\r\n      setSwipeItem({ ...swipeItem, key: undefined });\r\n    },\r\n    [swipeItem]\r\n  );\r\n  const handleSwipeCancel = useCallback(\r\n    (e) => {\r\n      e.currentTarget.setAttribute(\"style\", { left: 0 });\r\n      setSwipeItem({ ...swipeItem, key: undefined });\r\n    },\r\n    [swipeItem]\r\n  );\r\n  return (\r\n    <tr\r\n      className=\"tableitem\"\r\n      onClick={handleItemClick}\r\n      onTouchStart={handleSwipeStart}\r\n      onTouchMove={handleSwipeMove}\r\n      onTouchEnd={handleSwipeEnd}\r\n      onMouseDown={handleSwipeStart}\r\n      onMouseMove={handleSwipeMove}\r\n      onMouseUpCapture={handleSwipeEnd}\r\n      onMouseLeave={handleSwipeCancel}\r\n      style={\r\n        swipeItem.key === item.name\r\n          ? {\r\n              left: `${swipeItem.dx - swipeItem.startX}px`,\r\n              \"--swipe-position\": `${swipeItem.startX - swipeItem.dx}px`,\r\n            }\r\n          : { left: 0 }\r\n      }\r\n    >\r\n      <td className=\"item_name\">{item.name}</td>\r\n      <td className=\"item_price\">\r\n        {String(item.price).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\r\n      </td>\r\n      <td className=\"item_quantity\">{item.quantity}</td>\r\n      <td\r\n        className=\"item_date\"\r\n        style={changeStyle}\r\n        originaldate={new Date(item.indate)}\r\n      >\r\n        <span className=\"main_text\">{displayDate}</span>\r\n        {ddayState > 0 && (\r\n          <span className=\"sub_text\" style={{ color: \"inherit\" }}>\r\n            {ddayState === 1 ? \"입고완료\" : \"입고예정\"}\r\n          </span>\r\n        )}\r\n      </td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nexport default React.memo(TableItem);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { db } from \"../utils/firebase\";\r\n// import useLongPress from \"../utils/useLongPress\";\r\nimport \"./StockTable.css\";\r\nimport TableItem from \"./TableItem\";\r\n\r\nfunction StockTable({ trading, store, handleItemSelect }) {\r\n  const [items, setItems] = useState([]);\r\n\r\n  const { key: tradingKey, data } = trading;\r\n  const { color, display } = data;\r\n  const { authenticate } = store;\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = db\r\n      .collection(\"user\")\r\n      .doc(authenticate.user)\r\n      .collection(\"trading\")\r\n      .doc(tradingKey)\r\n      .collection(\"items\")\r\n      .orderBy(\"indate\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        if (snapshot.size > 0) {\r\n          setItems(snapshot.docs.map((doc) => doc.data()));\r\n        } else {\r\n          db.collection(\"user\")\r\n            .doc(authenticate.user)\r\n            .collection(\"trading\")\r\n            .doc(tradingKey)\r\n            .delete();\r\n        }\r\n      });\r\n    return unsubscribe;\r\n  }, [authenticate, tradingKey]);\r\n  return (\r\n    <div className=\"stocktable\">\r\n      <div className=\"table_title\" style={{ color: color }}>\r\n        <strong>{display}</strong>\r\n      </div>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th className=\"stock_name\">종목명</th>\r\n            <th className=\"stock_price\">단가</th>\r\n            <th className=\"stock_quantity\">수량</th>\r\n            <th className=\"stock_indate\">상장일</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {items.map((item) => {\r\n            return (\r\n              <TableItem\r\n                key={item.name}\r\n                tradingKey={tradingKey}\r\n                item={item}\r\n                handleItemSelect={handleItemSelect}\r\n              />\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { store: state };\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(StockTable);\r\n","export const Tradings = [\r\n  {\r\n    key: \"namuh\",\r\n    display: \"나무(NAMUH)\",\r\n    priority: 0,\r\n    color: \"#00a383\",\r\n  },\r\n  {\r\n    key: \"hankook\",\r\n    display: \"한국투자\",\r\n    priority: 1,\r\n    color: \"#104e81\",\r\n  },\r\n  {\r\n    key: \"mirae\",\r\n    display: \"미래에셋\",\r\n    priority: 2,\r\n    color: \"#e97f20\",\r\n  },\r\n  {\r\n    key: \"kb\",\r\n    display: \"KB증권\",\r\n    priority: 3,\r\n    color: \"#f2b200\",\r\n  },\r\n  {\r\n    key: \"shinhan\",\r\n    display: \"신한알파\",\r\n    priority: 4,\r\n    color: \"#2e62da\",\r\n  },\r\n  {\r\n    key: \"samsung\",\r\n    display: \"삼성증권\",\r\n    priority: 5,\r\n    color: \"#14279b\",\r\n  },\r\n  {\r\n    key: \"sk\",\r\n    display: \"SK증권\",\r\n    priority: 6,\r\n    color: \"#e31937\",\r\n  },\r\n];\r\n","import React, { useState } from \"react\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {\r\n  Button,\r\n  DialogActions,\r\n  FormControl,\r\n  InputLabel,\r\n  makeStyles,\r\n  MenuItem,\r\n  OutlinedInput,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  KeyboardDatePicker,\r\n  MuiPickersUtilsProvider,\r\n} from \"@material-ui/pickers\";\r\nimport { db } from \"../utils/firebase\";\r\nimport { connect } from \"react-redux\";\r\nimport { Tradings } from \"../constants/Trading\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    boxSizing: \"border-box\",\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    maxWidth: \"600px\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderRadius: \"10px\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 2, 1),\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  formTrading: {\r\n    minWidth: 120,\r\n  },\r\n  formInput: {\r\n    width: \"100%\",\r\n    marginBottom: \"10px\",\r\n  },\r\n}));\r\n\r\nfunction AddStock({ setOpen, store, selectedItem, handleItemSelect }) {\r\n  let sIndex = 0;\r\n  let sName = \"\";\r\n  let sPrice = \"\";\r\n  let sQuantity = \"\";\r\n  let sDate = new Date();\r\n  if (selectedItem) {\r\n    Tradings.forEach((trading, ind) => {\r\n      if (trading.key === selectedItem.tradingKey) {\r\n        sIndex = ind;\r\n      }\r\n    });\r\n    sName = selectedItem.target.children[0].textContent;\r\n    sPrice = selectedItem.target.children[1].textContent.replace(\",\", \"\");\r\n    sQuantity = selectedItem.target.children[2].textContent;\r\n    sDate = new Date(\r\n      selectedItem.target.children[3].getAttribute(\"originaldate\")\r\n    );\r\n  }\r\n\r\n  const classes = useStyles();\r\n  const [tradingIndex, setTradingIndex] = useState(sIndex);\r\n  const [name, setName] = useState(sName);\r\n  const [price, setPrice] = useState(sPrice);\r\n  const [quantity, setQuantity] = useState(sQuantity);\r\n  const [date, setDate] = useState(sDate);\r\n\r\n  const { authenticate } = store;\r\n  const isModified = selectedItem !== null;\r\n\r\n  const handleChangeTrading = (event) => {\r\n    setTradingIndex(event.target.value);\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setName(event.target.value);\r\n  };\r\n  const handlePriceChange = (event) => {\r\n    setPrice(event.target.value);\r\n  };\r\n  const handleQuantityChange = (event) => {\r\n    setQuantity(event.target.value);\r\n  };\r\n  const handleDateChange = (date) => {\r\n    setDate(date);\r\n  };\r\n  const addItem = (event) => {\r\n    event.preventDefault();\r\n    if (authenticate.user === \"guest@guest.com\") {\r\n      alert(\"please sign-in with private account\");\r\n      setOpen(false);\r\n      handleItemSelect(null);\r\n      return;\r\n    }\r\n    const trading = Tradings[tradingIndex];\r\n    const dbRef = db\r\n      .collection(\"user\")\r\n      .doc(authenticate.user)\r\n      .collection(\"trading\");\r\n    dbRef.doc(trading.key).set({\r\n      display: trading.display,\r\n      priority: trading.priority,\r\n      color: trading.color,\r\n    });\r\n    dbRef\r\n      .doc(trading.key)\r\n      .collection(\"items\")\r\n      .doc(name)\r\n      .set({\r\n        name: name,\r\n        price: price,\r\n        quantity: quantity,\r\n        indate: date.valueOf(),\r\n      })\r\n      .then(() => {})\r\n      .catch((error) => {\r\n        console.error(\"Error adding document: \", error);\r\n      });\r\n    setOpen(false);\r\n    handleItemSelect(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.paper}>\r\n      <form>\r\n        <FormControl className={classes.formTrading}>\r\n          <InputLabel id=\"trading-select-label\">증권계좌</InputLabel>\r\n          <Select\r\n            labelId=\"trading-select-label\"\r\n            id=\"trading-select\"\r\n            value={tradingIndex}\r\n            onChange={handleChangeTrading}\r\n            className={classes.selectEmpty}\r\n            required={true}\r\n            disabled={isModified}\r\n          >\r\n            {Tradings.map((trading, index) => (\r\n              <MenuItem key={trading.key} value={index}>\r\n                {trading.display}\r\n              </MenuItem>\r\n            ))}\r\n          </Select>\r\n        </FormControl>\r\n        <FormControl variant=\"outlined\" className={classes.formInput}>\r\n          <InputLabel htmlFor=\"name-input\">종목명</InputLabel>\r\n          <OutlinedInput\r\n            id=\"name-input\"\r\n            value={name}\r\n            onChange={handleNameChange}\r\n            label=\"Name\"\r\n            required={true}\r\n            disabled={isModified}\r\n          />\r\n        </FormControl>\r\n        <FormControl variant=\"outlined\" className={classes.formInput}>\r\n          <InputLabel htmlFor=\"price-input\">단가</InputLabel>\r\n          <OutlinedInput\r\n            id=\"price-input\"\r\n            value={price}\r\n            onChange={handlePriceChange}\r\n            label=\"Price\"\r\n            type=\"number\"\r\n          />\r\n        </FormControl>\r\n        <FormControl variant=\"outlined\" className={classes.formInput}>\r\n          <InputLabel htmlFor=\"quantity-input\">수량</InputLabel>\r\n          <OutlinedInput\r\n            id=\"quantity-input\"\r\n            value={quantity}\r\n            onChange={handleQuantityChange}\r\n            label=\"Quantity\"\r\n            type=\"number\"\r\n          />\r\n        </FormControl>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n          <KeyboardDatePicker\r\n            disableToolbar\r\n            variant=\"inline\"\r\n            format=\"MM/dd/yyyy\"\r\n            margin=\"normal\"\r\n            id=\"date-picker-inline\"\r\n            label=\"Month/Day/Year\"\r\n            value={date}\r\n            onChange={handleDateChange}\r\n            KeyboardButtonProps={{\r\n              \"aria-label\": \"change date\",\r\n            }}\r\n            PopoverProps={{\r\n              anchorOrigin: { vertical: \"top\", horizontal: \"right\" },\r\n              transformOrigin: { vertical: \"bottom\", horizontal: \"right\" },\r\n            }}\r\n            className={classes.formInput}\r\n          />\r\n        </MuiPickersUtilsProvider>\r\n        <DialogActions>\r\n          <Button color=\"primary\" onClick={() => setOpen(false)}>\r\n            취소\r\n          </Button>\r\n          <Button color=\"primary\" onClick={addItem} type=\"submit\" autoFocus>\r\n            {selectedItem ? \"수정\" : \"추가\"}\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { store: state };\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(AddStock);\r\n","import React from \"react\";\r\nimport { db } from \"../utils/firebase\";\r\nimport { Button, DialogActions, makeStyles } from \"@material-ui/core\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    boxSizing: \"border-box\",\r\n    position: \"absolute\",\r\n    width: \"80%\",\r\n    maxWidth: \"600px\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderRadius: \"10px\",\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 3, 1),\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    transform: \"translate(-50%, -50%)\",\r\n    color: \"black\",\r\n  },\r\n}));\r\n\r\nfunction DeleteStock({ setOpen, store, selectedItem, handleItemSelect }) {\r\n  if (!selectedItem) {\r\n    setOpen(false);\r\n  }\r\n  const name = selectedItem?.target.children[0].innerText;\r\n\r\n  const classes = useStyles();\r\n  const { authenticate } = store;\r\n\r\n  const deleteItem = () => {\r\n    if (authenticate.user === \"guest@guest.com\") {\r\n      alert(\"please sign-in with private account\");\r\n      setOpen(false);\r\n      handleItemSelect(null);\r\n      return;\r\n    }\r\n    db.collection(\"user\")\r\n      .doc(authenticate.user)\r\n      .collection(\"trading\")\r\n      .doc(selectedItem.tradingKey)\r\n      .collection(\"items\")\r\n      .doc(name)\r\n      .delete()\r\n      .then(() => {})\r\n      .catch((error) => {\r\n        console.error(\"Error removing document: \", error);\r\n      });\r\n    setOpen(false);\r\n    handleItemSelect(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.paper}>\r\n      <h3 id=\"simple-modal-title\">삭제</h3>\r\n      <div style={{ marginBottom: \"20px\" }}>삭제 하시겠습니까?</div>\r\n      <DialogActions>\r\n        <Button color=\"primary\" onClick={() => setOpen(false)}>\r\n          취소\r\n        </Button>\r\n        <Button color=\"primary\" onClick={deleteItem} type=\"submit\" autoFocus>\r\n          삭제\r\n        </Button>\r\n      </DialogActions>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { store: state };\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(DeleteStock);\r\n","import \"./Main.css\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../store/Store\";\r\nimport StockTable from \"../components/StockTable\";\r\nimport AddStock from \"../components/AddStock\";\r\nimport { auth, db } from \"../utils/firebase\";\r\n\r\nimport { Modal, Fab, makeStyles } from \"@material-ui/core\";\r\nimport ExitToAppOutlinedIcon from \"@material-ui/icons/ExitToAppOutlined\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport DeleteStock from \"../components/DeleteStock\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  fab: {},\r\n  fabEdit: {\r\n    color: theme.palette.common.white,\r\n    backgroundColor: green[500],\r\n    \"&:hover\": {\r\n      backgroundColor: green[600],\r\n    },\r\n  },\r\n}));\r\n\r\nfunction Main({ history, store, doLogout, setLoading }) {\r\n  const { authenticate } = store;\r\n\r\n  const classes = useStyles();\r\n  const [open, setOpen] = useState(false);\r\n  const [openDel, setOpenDel] = useState(false);\r\n  const [tradings, setTradings] = useState([]);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  console.log(\"Main START\");\r\n\r\n  useEffect(() => {\r\n    console.log(\"Main RENDERED\");\r\n    if (!authenticate.isAuth) {\r\n      console.log(\"Main goRoot!!\");\r\n      history.replace(\"/\");\r\n      return;\r\n    }\r\n\r\n    const unsubscribe = db\r\n      .collection(\"user\")\r\n      .doc(authenticate?.user)\r\n      .collection(\"trading\")\r\n      .orderBy(\"priority\", \"asc\")\r\n      .onSnapshot((snapshot) => {\r\n        setTimeout(() => {\r\n          setLoading(false);\r\n        }, 500);\r\n        setTradings(\r\n          snapshot.docs.map((doc) => ({\r\n            key: doc.id,\r\n            data: doc.data(),\r\n          }))\r\n        );\r\n      });\r\n    return unsubscribe;\r\n  }, [authenticate, history, setLoading]);\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const handleOpenDel = () => {\r\n    setOpenDel(true);\r\n  };\r\n  const handleCloseDel = () => {\r\n    setOpenDel(false);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    auth.signOut().then(() => {\r\n      doLogout(false);\r\n    });\r\n  };\r\n\r\n  const handleItemSelect = useCallback(\r\n    (item) => {\r\n      selectedItem?.target.setAttribute(\"class\", \"tableitem\");\r\n      if (selectedItem?.target !== item?.target) {\r\n        item?.target.setAttribute(\"class\", \"tableitem selected\");\r\n        setSelectedItem(item);\r\n      } else {\r\n        setSelectedItem(null);\r\n      }\r\n    },\r\n    [selectedItem]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <header>\r\n        <div className=\"header_main\">\r\n          <Link to=\"/ipolist\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <div className=\"title\">\r\n              <span className=\"main-title\">Stock Manager</span>\r\n              <span className=\"sub-title\">\r\n                {\"@\" + authenticate.user?.split(\"@\")[0]}\r\n              </span>\r\n            </div>\r\n          </Link>\r\n          <div className=\"logout\" onClick={handleLogout}>\r\n            <span>Logout</span>\r\n            <ExitToAppOutlinedIcon />\r\n          </div>\r\n        </div>\r\n      </header>\r\n      <div\r\n        className=\"main\"\r\n        onClick={() => {\r\n          handleItemSelect(null);\r\n        }}\r\n      >\r\n        {tradings.map((trading) => (\r\n          <StockTable\r\n            key={trading.key}\r\n            trading={trading}\r\n            handleItemSelect={handleItemSelect}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div\r\n        className={\r\n          selectedItem\r\n            ? \"fab-area unselect fadeout\"\r\n            : \"fab-area unselect fadein\"\r\n        }\r\n      >\r\n        <Fab\r\n          className={classes.fab}\r\n          color=\"primary\"\r\n          aria-label=\"add\"\r\n          onClick={handleOpen}\r\n        >\r\n          <AddIcon />\r\n        </Fab>\r\n      </div>\r\n      <div\r\n        className={\r\n          selectedItem ? \"fab-area select slidein\" : \"fab-area select slideout\"\r\n        }\r\n      >\r\n        <Fab\r\n          className={classes.fabEdit}\r\n          color=\"secondary\"\r\n          aria-label=\"edit\"\r\n          onClick={handleOpen}\r\n        >\r\n          <EditIcon />\r\n        </Fab>\r\n        <Fab\r\n          className={classes.fab}\r\n          color=\"secondary\"\r\n          aria-label=\"delete\"\r\n          onClick={handleOpenDel}\r\n        >\r\n          <DeleteIcon />\r\n        </Fab>\r\n      </div>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"add-stock\"\r\n        aria-describedby=\"add-stock\"\r\n      >\r\n        <div>\r\n          <AddStock\r\n            setOpen={setOpen}\r\n            selectedItem={selectedItem}\r\n            handleItemSelect={handleItemSelect}\r\n          />\r\n        </div>\r\n      </Modal>\r\n      <Modal\r\n        open={openDel}\r\n        onClose={handleCloseDel}\r\n        aria-labelledby=\"add-stock\"\r\n        aria-describedby=\"add-stock\"\r\n      >\r\n        <div>\r\n          <DeleteStock\r\n            setOpen={setOpenDel}\r\n            selectedItem={selectedItem}\r\n            handleItemSelect={handleItemSelect}\r\n          />\r\n        </div>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { store: state };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    doLogout: () => dispatch(logout()),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Main);\r\n","import React from \"react\";\r\nimport ReactLoading from \"react-loading\";\r\nimport \"./LoadingTool.css\";\r\n\r\nfunction LoadingTool() {\r\n  return (\r\n    <div className=\"loading-area\">\r\n      <ReactLoading\r\n        type={\"spinningBubbles\"}\r\n        color={\"gray\"}\r\n        height={100}\r\n        width={100}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadingTool;\r\n","import { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport { HashRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport Login from \"./pages/Login\";\nimport Main from \"./pages/Main\";\nimport { login } from \"./store/Store\";\nimport { auth } from \"./utils/firebase\";\nimport LoadingTool from \"./components/LoadingTool\";\n\nfunction App({ store, doLogin }) {\n  const { authenticate } = store;\n  const [loading, setLoading] = useState(true);\n  console.log(\"App START\", loading);\n\n  useEffect(() => {\n    console.log(\"App RENDERED\");\n    const unsubscribe = auth.onAuthStateChanged((user) => {\n      console.log(\"App onAuthStateChanged\", user);\n      if (user) {\n        doLogin(user.email);\n      } else {\n        setTimeout(() => {\n          setLoading(false);\n        }, 500);\n      }\n    });\n    return unsubscribe;\n  }, [doLogin]);\n\n  return (\n    <HashRouter>\n      {loading && <LoadingTool />}\n      <Switch>\n        <Route\n          exact\n          path=\"/\"\n          render={() =>\n            authenticate.isAuth ? (\n              <Redirect to=\"/main\" />\n            ) : (\n              <Redirect to=\"/login\" />\n            )\n          }\n        />\n        <Route\n          exact\n          path=\"/login\"\n          render={(props) => <Login {...props} setLoading={setLoading} />}\n        />\n        <Route\n          exact\n          path=\"/main\"\n          render={(props) => <Main {...props} setLoading={setLoading} />}\n        />\n        <Route\n          exact\n          path=\"/ipolist\"\n          component={() => {\n            window.location.href = \"http://sereon.synology.me:38888/po/IPOlist\";\n            return null;\n          }}\n        />\n      </Switch>\n    </HashRouter>\n  );\n}\n\nfunction mapStateToProps(state) {\n  return { store: state };\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    doLogin: (user) => dispatch(login({ user: user, isAuth: true })),\n  };\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n// export default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./store/Store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}